<!-- Classi che uso qui fanno parte di bootStrap-->
<div class='container'>
    <h1>User form</h1>

    <!-- ngForm è attributo che crea AngulaForm. -->
    <form #userForm='ngForm' (ngSubmit)='onSubmit()'>

        <div class = 'form-group'>
            <label for ='username'>Username</label>
            <input id='username' type='text' class='form-control' 
            [(ngModel)]='model.username'
            required
            #name='ngModel'
            name='username'>

            <!-- Così vuol dire che messaggio appare solo se do focus a campo e poi me ne vado
                 lasciandolo vuoto (grazie a pristine) -->
            <div [hidden]='name.valid || name.pristine' class = 'alert alert-danger'>Campo username richiesto</div>

        </div>

        <div class = 'form-group'>
            <label for ='password'>Password</label>
            <input id='password' type='password' class='form-control' 
            [(ngModel)]='model.password'
            required
            #psw='ngModel'
            name='password'>

            <div [hidden]='psw.valid || psw.pristine' class = 'alert alert-danger'>Campo password richiesto</div>
        </div>

        <div class='form-group'>
            <label for='role'>Ruolo</label>
            <select id='role' class='form-control' 
            [(ngModel)]='model.role'
            name='role'>
               <option *ngFor='let r of roles' [value]='r'>
                   {{r}}
               </option>
            </select>
        </div>

        <div class='form-group'>
            <button type='submit' class='btn btn-success'
            [disabled]='!userForm.form.valid'>Submit</button>
            <button type='button' class='btn btn-warning' (click)='newUser()'>Nuovo user</button>
        </div>
    </form>
</div>

<div>{{model | json}}</div>
